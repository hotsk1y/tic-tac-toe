(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],{14:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),i=n(5),a=n.n(i),s=(n(14),n(3)),o=(n(21),n(4)),u=(n(22),n(23),n(24),n(1)),l=function(e){return Object(u.jsx)("div",{className:"cell",onClick:e.handleClick,children:e.value})},d=function(e){var t=e.cells,n=e.handleClick;return Object(u.jsx)("div",{className:"field",children:t.map((function(e,t){return Object(u.jsx)(l,{value:e,handleClick:function(){return n(t)}},t)}))})},j=n(2),b={field:Array(9).fill(null)},f="START_NEW_GAME",h="CHANGE_FIELD",O=function(e){return{type:f,payload:e}},v={isAgainstTheComputer:!0,menuActive:!1,xIsRunMenu:!0,xIsRun:!0,turn:[]},p="BOT_ACTIVE",x="MENU_ACTIVE",m="X_IS_RUN_MENU",g="X_IS_RUN",_="SET_TURN",y=function(e){return{type:x,payload:e}},N=function(e){return{type:_,payload:e}},k=function(e){return{type:g,payload:e}},w={scoreDraw:0,scoreX:0,scoreO:0},C="ADD_X",A="ADD_O",R="ADD_DRAW",T="RESET_SCORE",D=function(e,t){return e[0]===t&&e[1]===t&&e[2]===t||e[3]===t&&e[4]===t&&e[5]===t||e[6]===t&&e[7]===t&&e[8]===t||e[0]===t&&e[3]===t&&e[6]===t||e[1]===t&&e[4]===t&&e[7]===t||e[2]===t&&e[5]===t&&e[8]===t||e[0]===t&&e[4]===t&&e[8]===t||e[2]===t&&e[4]===t&&e[6]===t},I="O",E="X",S=function(){var e,t=Object(s.b)(),n=Object(s.c)((function(e){return e.settings})),r=n.xIsRunMenu,i=n.xIsRun,a=n.turn,l=n.isAgainstTheComputer,j=function(e){t(k(e))},b=function(e){t(N(e))},f=Object(s.c)((function(e){return e.field.field})),v=function(e,n){t(function(e,t){return{type:h,payload:e,index:t}}(e,n))},p=Object(s.c)((function(e){return e.score})),x=p.scoreDraw,m=p.scoreX,g=p.scoreO,_=function(){var e;t({type:R,payload:e})},y=function(){var e;t({type:C,payload:e})},w=function(){var e;t({type:A,payload:e})},T=void 0;i?(e=I,T=E):(e=E,T=I);for(var S=Object(o.a)(f),X=0;X<S.length;X++)null===S[X]&&(S[X]=X);var M=null;if(D(f,e)?M=e:D(f,T)&&(M=T),!i&&l&&0===a.length){var U=Math.floor(9*Math.random());v(e,U);var W=Object(o.a)(f),B=a;B.push(W[U]),b(B)}Object(c.useEffect)((function(){M===E?y():M===I&&w(),9!==a.length||M||_()}),[a.length,M]);var F=function t(n,c){var r=function(e){return e.filter((function(e){return e!=I&&e!=E}))}(n);if(D(n,T))return{score:-1};if(D(n,e))return{score:1};if(0===r.length)return{score:0};for(var i=[],a=0;a<r.length;a++){var s=[];if(n[r[a]]=c,s.idx=r[a],c===T){var o=t(n,e);s.score=o.score}if(c===e){var u=t(n,T);s.score=u.score}n[r[a]]=s.idx,i.push(s)}var l=null;if(c===e)for(var d=-1/0,j=0;j<i.length;j++)i[j].score>d&&(d=i[j].score,l=j);else for(var b=1/0,f=0;f<i.length;f++)i[f].score<b&&(b=i[f].score,l=f);return i[l]};return Object(u.jsxs)("div",{className:"game-wrapper",children:[Object(u.jsxs)("div",{className:"score",children:[Object(u.jsxs)("div",{className:"score_descr",children:[Object(u.jsx)("div",{children:"X"}),Object(u.jsx)("div",{children:"Draw"}),Object(u.jsx)("div",{children:"O"})]}),Object(u.jsxs)("div",{className:"score_item",children:[Object(u.jsx)("div",{children:m}),Object(u.jsx)("div",{children:x}),Object(u.jsx)("div",{children:g})]})]}),Object(u.jsx)("button",{className:"start-game__btn",onClick:function(){return j(r),b([]),void t(O())},children:"Start New Game"}),Object(u.jsx)(d,{cells:f,handleClick:l?function(t){var n=Object(o.a)(f),c=a;if(M||n[t])return null;if(n[t]=i?E:I,v(T,t),c.push(n[t]),b(c),9===c.length){if(M)return null}else!function(t){var n=Object(o.a)(t),c=a;S=Object(o.a)(n);for(var r=0;r<n.length;r++)null===n[r]&&(S[r]=r);var s=F(S,e);if(M||n[s.idx])return null;n[s.idx]=i?I:E,v(e,s.idx),c.push(n[s.idx]),b(c)}(n)}:function(e){var t=Object(o.a)(f);if(M||t[e])return null;v(i?E:I,e),j(!i);var n=a;n.push(t[e]),b(n)}}),Object(u.jsx)("p",{className:"field__info",children:M?"".concat(M," is the winner!"):9===a.length?"Draw!":"Your turn: ".concat(i?E:I)})]})},X=(n(26),function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.settings})),n=t.turn,c=t.isAgainstTheComputer,r=t.xIsRun,i=t.xIsRunMenu,a=function(t){e(function(e){return{type:p,payload:e}}(t))},o=function(t){e(function(e){return{type:m,payload:e}}(t))},l=function(t){e(k(t))},d=function(t){e(N(t))},j=function(){var t;e({type:T,payload:t})},b=function(){l(i),d([]),e(O())},f=!1;f=n.length>=1,1===n.length&&c&&!r&&(f=!1);return Object(u.jsxs)("div",{className:"menu",children:[Object(u.jsx)("div",{className:"close-menu__btn",onClick:function(){e(y(!1))},children:"X"}),Object(u.jsxs)("div",{className:"main-menu__content",children:[Object(u.jsx)("div",{className:"title",children:Object(u.jsx)("h1",{children:"Tic Tac Toe Settings"})}),f&&Object(u.jsx)("div",{className:"apply-changes",children:"Please, start a new game to change the settings"}),Object(u.jsxs)("div",{className:"content-item chekbox-content__item",children:[Object(u.jsx)("label",{htmlFor:"computerTurn",children:"Player VS Bot: "}),Object(u.jsx)("input",{id:"computerTurn",type:"checkbox",disabled:f,checked:c,onChange:function(e){a(e.target.checked),d([]),j(),b()}})]}),Object(u.jsxs)("div",{className:"content-item chekbox-content__item",children:[Object(u.jsx)("label",{htmlFor:"xIsRun",children:"X runs first: "}),Object(u.jsx)("input",{className:"chekbox-content__item",id:"xIsRun",type:"checkbox",disabled:f,checked:i,onChange:function(e){o(e.target.checked),l(e.target.checked),j()},onClick:function(){return 1===n.length?b():null}})]})]})]})});var M=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.settings.menuActive}));return Object(u.jsxs)("div",{className:"main-page",children:[Object(u.jsx)("div",{className:"menu__settings-logo",onClick:function(){e(y(!t))},children:Object(u.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6d/Windows_Settings_app_icon.png/768px-Windows_Settings_app_icon.png",alt:""})}),Object(u.jsx)("div",{className:t?"main-menu active":"main-menu",children:Object(u.jsx)(X,{})}),Object(u.jsx)(S,{})]})},U=n(6),W=Object(U.a)({score:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(j.a)(Object(j.a)({},e),{},{scoreX:e.scoreX+1});case A:return Object(j.a)(Object(j.a)({},e),{},{scoreO:e.scoreO+1});case R:return Object(j.a)(Object(j.a)({},e),{},{scoreDraw:e.scoreDraw+1});case T:return Object(j.a)(Object(j.a)({},e),{},{scoreDraw:e.scoreDraw=0,scoreX:0,scoreO:0});default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(j.a)(Object(j.a)({},e),{},{isAgainstTheComputer:t.payload});case x:return Object(j.a)(Object(j.a)({},e),{},{menuActive:t.payload});case m:return Object(j.a)(Object(j.a)({},e),{},{xIsRunMenu:t.payload});case g:return Object(j.a)(Object(j.a)({},e),{},{xIsRun:t.payload});case _:return Object(j.a)(Object(j.a)({},e),{},{turn:t.payload});default:return e}},field:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(j.a)(Object(j.a)({},e),{},{field:b.field});case h:var n=Object(o.a)(e.field);return n[t.index]=t.payload,Object(j.a)(Object(j.a)({},e),{},{field:n});default:return e}}}),B=Object(U.b)(W);a.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(s.a,{store:B,children:Object(u.jsx)(M,{})})}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.a46e5624.chunk.js.map