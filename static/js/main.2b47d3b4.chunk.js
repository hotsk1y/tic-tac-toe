(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],{14:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),i=n(5),a=n.n(i),s=(n(14),n(3)),u=(n(21),n(4)),o=(n(22),n(23),n(24),n(1)),l=function(e){return Object(o.jsx)("div",{className:"cell",onClick:e.handleClick,children:e.value})},d=function(e){var t=e.cells,n=e.handleClick;return Object(o.jsx)("div",{className:"field",children:t.map((function(e,t){return Object(o.jsx)(l,{value:e,handleClick:function(){return n(t)}},t)}))})},j=n(2),b={field:Array(9).fill(null)},f="START_NEW_GAME",O="CHANGE_FIELD",h=function(e){return{type:f,payload:e}},v={isAgainstTheComputer:!0,menuActive:!1,xIsRunMenu:!0,xIsRun:!0,turn:[]},p="BOT_ACTIVE",x="MENU_ACTIVE",m="X_IS_RUN_MENU",g="X_IS_RUN",_="SET_TURN",y=function(e){return{type:x,payload:e}},N=function(e){return{type:_,payload:e}},k=function(e){return{type:g,payload:e}},w={draw:0,scoreX:0,scoreO:0},C="ADD_X",A="ADD_O",R="ADD_DRAW",T="RESET_SCORE",I=function(e,t){return e[0]===t&&e[1]===t&&e[2]===t||e[3]===t&&e[4]===t&&e[5]===t||e[6]===t&&e[7]===t&&e[8]===t||e[0]===t&&e[3]===t&&e[6]===t||e[1]===t&&e[4]===t&&e[7]===t||e[2]===t&&e[5]===t&&e[8]===t||e[0]===t&&e[4]===t&&e[8]===t||e[2]===t&&e[4]===t&&e[6]===t},E="O",S="X",X=function(){var e,t=Object(s.b)(),n=Object(s.c)((function(e){return e.settings.xIsRunMenu})),r=Object(s.c)((function(e){return e.settings.xIsRun})),i=function(e){t(k(e))},a=Object(s.c)((function(e){return e.settings.turn})),l=function(e){t(N(e))},j=Object(s.c)((function(e){return e.field.field})),b=function(e,n){t(function(e,t){return{type:O,payload:e,index:t}}(e,n))},f=Object(s.c)((function(e){return e.settings.isAgainstTheComputer})),v=Object(s.c)((function(e){return e.score.draw})),p=function(){var e;t({type:R,payload:e})},x=Object(s.c)((function(e){return e.score.scoreX})),m=function(){var e;t({type:C,payload:e})},g=Object(s.c)((function(e){return e.score.scoreO})),_=function(){var e;t({type:A,payload:e})},y=void 0;r?(e=E,y=S):(e=S,y=E);for(var w=Object(u.a)(j),T=0;T<w.length;T++)null===w[T]&&(w[T]=T);var X=null;if(I(j,e)?X=e:I(j,y)&&(X=y),!r&&f&&0===a.length){var D=Math.floor(9*Math.random());b(e,D);var M=Object(u.a)(j),U=a;U.push(M[D]),l(U)}Object(c.useEffect)((function(){X===S?m():X===E&&_(),9!==a.length||X||p()}),[a.length,X]);var W=function t(n,c){var r=function(e){return e.filter((function(e){return e!=E&&e!=S}))}(n);if(I(n,y))return{score:-1};if(I(n,e))return{score:1};if(0===r.length)return{score:0};for(var i=[],a=0;a<r.length;a++){var s=[];if(n[r[a]]=c,s.idx=r[a],c===y){var u=t(n,e);s.score=u.score}if(c===e){var o=t(n,y);s.score=o.score}n[r[a]]=s.idx,i.push(s)}var l=null;if(c===e)for(var d=-1/0,j=0;j<i.length;j++)i[j].score>d&&(d=i[j].score,l=j);else for(var b=1/0,f=0;f<i.length;f++)i[f].score<b&&(b=i[f].score,l=f);return i[l]};return Object(o.jsxs)("div",{className:"game-wrapper",children:[Object(o.jsxs)("div",{className:"score",children:[Object(o.jsxs)("div",{className:"score_descr",children:[Object(o.jsx)("div",{children:"X"}),Object(o.jsx)("div",{children:"Draw"}),Object(o.jsx)("div",{children:"O"})]}),Object(o.jsxs)("div",{className:"score_item",children:[Object(o.jsx)("div",{children:x}),Object(o.jsx)("div",{children:v}),Object(o.jsx)("div",{children:g})]})]}),Object(o.jsx)("button",{className:"start-game__btn",onClick:function(){return i(n),l([]),void t(h())},children:"Start New Game"}),Object(o.jsx)(d,{cells:j,handleClick:f?function(t){var n=Object(u.a)(j),c=a;if(X||n[t])return null;if(n[t]=r?S:E,b(y,t),c.push(n[t]),l(c),9===c.length){if(X)return null}else!function(t){var n=Object(u.a)(t),c=a;w=Object(u.a)(n);for(var i=0;i<n.length;i++)null===n[i]&&(w[i]=i);var s=W(w,e);if(X||n[s.idx])return null;n[s.idx]=r?E:S,b(e,s.idx),c.push(n[s.idx]),l(c)}(n)}:function(e){var t=Object(u.a)(j);if(X||t[e])return null;b(r?S:E,e),i(!r);var n=a;n.push(t[e]),l(n)}}),Object(o.jsx)("p",{className:"field__info",children:X?"".concat(X," is the winner!"):9===a.length?"Draw!":"Your turn: ".concat(r?S:E)})]})},D=(n(26),function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.settings})),n=t.turn,c=t.isAgainstTheComputer,r=function(t){e(function(e){return{type:p,payload:e}}(t))},i=Object(s.c)((function(e){return e.settings.xIsRunMenu})),a=function(t){e(function(e){return{type:m,payload:e}}(t))},u=function(t){e(k(t))},l=function(t){e(N(t))},d=function(){var t;e({type:T,payload:t})},j=function(){u(i),l([]),e(h())},b=Object(s.c)((function(e){return e.settings.xIsRun})),f=!1;f=n.length>=1,1===n.length&&c&&!b&&(f=!1);return Object(o.jsxs)("div",{className:"menu",children:[Object(o.jsx)("div",{className:"close-menu__btn",onClick:function(){e(y(!1))},children:"X"}),Object(o.jsxs)("div",{className:"main-menu__content",children:[Object(o.jsx)("div",{className:"title",children:Object(o.jsx)("h1",{children:"Tic Tac Toe Settings"})}),f&&Object(o.jsx)("div",{className:"apply-changes",children:"Please, start a new game to change the settings"}),Object(o.jsxs)("div",{className:"content-item chekbox-content__item",children:[Object(o.jsx)("label",{htmlFor:"computerTurn",children:"Player VS Bot: "}),Object(o.jsx)("input",{id:"computerTurn",type:"checkbox",disabled:f,checked:c,onChange:function(e){r(e.target.checked),l([]),d(),j()}})]}),Object(o.jsxs)("div",{className:"content-item chekbox-content__item",children:[Object(o.jsx)("label",{htmlFor:"xIsRun",children:"X runs first: "}),Object(o.jsx)("input",{className:"chekbox-content__item",id:"xIsRun",type:"checkbox",disabled:f,checked:i,onChange:function(e){a(e.target.checked),u(e.target.checked),d()},onClick:function(){return 1===n.length?j():null}})]})]})]})});var M=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.settings.menuActive}));return Object(o.jsxs)("div",{className:"main-page",children:[Object(o.jsx)("div",{className:"menu__settings-logo",onClick:function(){e(y(!t))},children:Object(o.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6d/Windows_Settings_app_icon.png/768px-Windows_Settings_app_icon.png",alt:""})}),Object(o.jsx)("div",{className:t?"main-menu active":"main-menu",children:Object(o.jsx)(D,{})}),Object(o.jsx)(X,{})]})},U=n(6),W=Object(U.a)({score:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(j.a)(Object(j.a)({},e),{},{scoreX:e.scoreX+1});case A:return Object(j.a)(Object(j.a)({},e),{},{scoreO:e.scoreO+1});case R:return Object(j.a)(Object(j.a)({},e),{},{draw:e.draw+1});case T:return Object(j.a)(Object(j.a)({},e),{},{draw:e.draw=0,scoreX:0,scoreO:0});default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(j.a)(Object(j.a)({},e),{},{isAgainstTheComputer:t.payload});case x:return Object(j.a)(Object(j.a)({},e),{},{menuActive:t.payload});case m:return Object(j.a)(Object(j.a)({},e),{},{xIsRunMenu:t.payload});case g:return Object(j.a)(Object(j.a)({},e),{},{xIsRun:t.payload});case _:return Object(j.a)(Object(j.a)({},e),{},{turn:t.payload});default:return e}},field:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(j.a)(Object(j.a)({},e),{},{field:b.field});case O:var n=Object(u.a)(e.field);return n[t.index]=t.payload,Object(j.a)(Object(j.a)({},e),{},{field:n});default:return e}}}),B=Object(U.b)(W);a.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(s.a,{store:B,children:Object(o.jsx)(M,{})})}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.2b47d3b4.chunk.js.map